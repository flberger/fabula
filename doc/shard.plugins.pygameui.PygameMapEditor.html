<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>API docs for &ldquo;shard.plugins.pygameui.PygameMapEditor&rdquo;</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link href="apidocs.css" type="text/css" rel="stylesheet" />
    
    
  </head>
  <body>
    <h1 class="class">Class s.p.p.PygameMapEditor(<a href="shard.plugins.pygameui.PygameUserInterface.html">PygameUserInterface</a>):</h1>
    <p>
      <span id="part">Part of <a href="shard.html">shard</a>.<a href="shard.plugins.html">plugins</a>.<a href="shard.plugins.pygameui.html">pygameui</a></span>
      
      <a href="classIndex.html#shard.plugins.pygameui.PygameMapEditor">View In Hierarchy</a>
    </p>
    <div>
      
    </div>
    <pre>A Pygame-based user interface that serves as a map editor.

Additional PygameMapEditor attributes:

PygameUserInterface.window.buttons
    clickndrag Plane for the buttons, 100x600px and located at the left
    border of the window.

PygameUserInterface.window.properties
    clickndrag Plane for Entity properties, 100x600px and located at the
    right border of the window.

PygameUserInterface.plane_cache
    A list to cache temporarily invisible planes

PygameUserInterface.overlay_surface
    A semi-transparent red Surface to be used as an OBSTACLE indicator
    overlay</pre>

    
    
    <div id="splitTables">
      <table class="children sortable" id="id45">
  
  
<tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameMapEditor.html#__init__">__init__</a></td>
    <td><tt>Call PygameUserInterface.__init__(), but set up different Planes.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameMapEditor.html#open_image">open_image</a></td>
    <td><tt>Button callback to prompt the user for a room background image, load it and assign it to tiles.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameMapEditor.html#save_room">save_room</a></td>
    <td><tt>Button callback to save the tile images, resend and save the whole Room.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameMapEditor.html#load_room">load_room</a></td>
    <td><tt>Button callback to issue a TriesToTalkToEvent to receive a list of rooms to load from the MapEditor Plugin.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameMapEditor.html#add_item">add_item</a></td>
    <td><tt>Button callback to request item identifier and image and add it to the rack.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameMapEditor.html#quit">quit</a></td>
    <td><tt>Button callback to set self.exit_requested = True</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameMapEditor.html#edit_walls">edit_walls</a></td>
    <td><tt>Button callback to switch to wall edit mode.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameMapEditor.html#make_tile_obstacle">make_tile_obstacle</a></td>
    <td><tt>Clicked callback which changes the Tile type to shard.OBSTACLE.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameMapEditor.html#make_tile_floor">make_tile_floor</a></td>
    <td><tt>Clicked callback which changes the Tile type to shard.FLOOR.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameMapEditor.html#wall_edit_done">wall_edit_done</a></td>
    <td><tt>Button callback which restores the editor to the state before edit_walls().</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameMapEditor.html#process_CanSpeakEvent">process_CanSpeakEvent</a></td>
    <td><tt>Open the senteces as an OptionList and return a SaysEvent to the host.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameMapEditor.html#process_SpawnEvent">process_SpawnEvent</a></td>
    <td><tt>Call PygameUserInterface.process_SpawnEvent and add a clicked_callback to the Entity.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameMapEditor.html#show_properties">show_properties</a></td>
    <td><tt>Click callback for entities which shows their properties in the properties Plane.</tt></td>
  </tr>
  
</table>
      
        <p>
          Inherited from <a href="shard.plugins.pygameui.PygameUserInterface.html">PygameUserInterface</a>:
        </p>
        <table class="children sortable" id="id46">
  
  
<tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#update_frame_timer">update_frame_timer</a></td>
    <td><tt>Use pygame.time.Clock.tick() to slow down to given framerate.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#display_single_frame">display_single_frame</a></td>
    <td><tt>Update and render all click'd'drag planes.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#collect_player_input">collect_player_input</a></td>
    <td><tt>When overriding this method,</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#process_EnterRoomEvent">process_EnterRoomEvent</a></td>
    <td><tt>Fade window to black and remove subplanes of PygameUserInterface.window.room</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#process_RoomCompleteEvent">process_RoomCompleteEvent</a></td>
    <td><tt>Update and render the Planes of the map elements and fade in the room.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#process_ChangeMapElementEvent">process_ChangeMapElementEvent</a></td>
    <td><tt>Fetch asset and register/replace tile.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#process_PerceptionEvent">process_PerceptionEvent</a></td>
    <td><tt>Display the perception.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#process_AttemptFailedEvent">process_AttemptFailedEvent</a></td>
    <td><tt>Flash the screen.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#process_DropsEvent">process_DropsEvent</a></td>
    <td><tt>Call base class process_DropsEvent and clean up the inventory plane.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#process_PicksUpEvent">process_PicksUpEvent</a></td>
    <td><tt>Move the item's Plane from window.room to window.inventory.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#inventory_callback">inventory_callback</a></td>
    <td><tt>Drop callback to issue a TriesToPickUpEvent if the item is not already in Rack.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#tile_clicked_callback">tile_clicked_callback</a></td>
    <td><tt>Clicked callback to issue a TriesToMoveEvent.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#tile_drop_callback">tile_drop_callback</a></td>
    <td><tt>Drop callback to issue a TriesToDropEvent.</tt></td>
  </tr>
  
</table>
      
        <p>
          Inherited from <a href="shard.plugins.ui.UserInterface.html">UserInterface</a> (via <a href="shard.plugins.pygameui.PygameUserInterface.html">PygameUserInterface</a>):
        </p>
        <table class="children sortable" id="id47">
  
  
<tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.ui.UserInterface.html#process_message">process_message</a></td>
    <td><tt>This is the main method of the UserInterface.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.ui.UserInterface.html#display_asset_exception">display_asset_exception</a></td>
    <td><tt>Called when assets is unable to retrieve the asset.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.ui.UserInterface.html#process_DeleteEvent">process_DeleteEvent</a></td>
    <td><tt>This method is called with an instance of DeleteEvent.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.ui.UserInterface.html#process_MovesToEvent">process_MovesToEvent</a></td>
    <td><tt>Let the Entity handle the Event.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.ui.UserInterface.html#process_ChangeStateEvent">process_ChangeStateEvent</a></td>
    <td><tt>Entity has already handled the Event.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.ui.UserInterface.html#process_SaysEvent">process_SaysEvent</a></td>
    <td><tt>Called with an instance of SaysEvent</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.ui.UserInterface.html#group_events">group_events</a></td>
    <td><tt>Returns a list of lists of parallel events.</tt></td>
  </tr>
  
</table>
      
        <p>
          Inherited from <a href="shard.eventprocessor.EventProcessor.html">EventProcessor</a> (via <a href="shard.plugins.pygameui.PygameUserInterface.html">PygameUserInterface</a>, <a href="shard.plugins.ui.UserInterface.html">UserInterface</a>, <a href="shard.plugins.Plugin.html">Plugin</a>):
        </p>
        <table class="children sortable" id="id48">
  
  
<tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.eventprocessor.EventProcessor.html#__getstate__">__getstate__</a></td>
    <td><tt>Return a copy of self.__dict__ with un-pickleable items removed to the pickle module.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.eventprocessor.EventProcessor.html#__setstate__">__setstate__</a></td>
    <td><tt>Update self.__dict__ with state_dict provided by the pickle module, then call __init__().</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.eventprocessor.EventProcessor.html#process_TriesToMoveEvent">process_TriesToMoveEvent</a></td>
    <td><tt>Process the Event.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.eventprocessor.EventProcessor.html#process_TriesToLookAtEvent">process_TriesToLookAtEvent</a></td>
    <td><tt>Process the Event.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.eventprocessor.EventProcessor.html#process_TriesToPickUpEvent">process_TriesToPickUpEvent</a></td>
    <td><tt>Process the Event.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.eventprocessor.EventProcessor.html#process_TriesToDropEvent">process_TriesToDropEvent</a></td>
    <td><tt>Process the Event.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.eventprocessor.EventProcessor.html#process_TriesToManipulateEvent">process_TriesToManipulateEvent</a></td>
    <td><tt>Process the Event.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.eventprocessor.EventProcessor.html#process_TriesToTalkToEvent">process_TriesToTalkToEvent</a></td>
    <td><tt>Process the Event.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.eventprocessor.EventProcessor.html#process_ManipulatesEvent">process_ManipulatesEvent</a></td>
    <td><tt>Process the Event.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.eventprocessor.EventProcessor.html#process_PassedEvent">process_PassedEvent</a></td>
    <td><tt>Process the Event.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.eventprocessor.EventProcessor.html#process_LookedAtEvent">process_LookedAtEvent</a></td>
    <td><tt>Process the Event.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.eventprocessor.EventProcessor.html#process_PickedUpEvent">process_PickedUpEvent</a></td>
    <td><tt>Process the Event.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.eventprocessor.EventProcessor.html#process_DroppedEvent">process_DroppedEvent</a></td>
    <td><tt>Process the Event.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.eventprocessor.EventProcessor.html#process_InitEvent">process_InitEvent</a></td>
    <td><tt>Process the Event.</tt></td>
  </tr>
  
</table>
      
      
    </div>
    
    
    

    <div class="function">
  <a name="shard.plugins.pygameui.PygameMapEditor.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    def
    __init__(self, assets, framerate, logger):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="shard.plugins.pygameui.PygameUserInterface.html#__init__">shard.plugins.pygameui.PygameUserInterface.__init__</a></div>
    <pre>Call PygameUserInterface.__init__(), but set up different Planes.
        </pre>
  </div>
</div><div class="function">
  <a name="shard.plugins.pygameui.PygameMapEditor.open_image">
    
  </a>
  <a name="open_image">
    
  </a>
  <div class="functionHeader">
    
    def
    open_image(self, plane):
    
  </div>
  <div class="functionBody">
    
    <pre>Button callback to prompt the user for a room background image, load it and assign it to tiles.
        </pre>
  </div>
</div><div class="function">
  <a name="shard.plugins.pygameui.PygameMapEditor.save_room">
    
  </a>
  <a name="save_room">
    
  </a>
  <div class="functionHeader">
    
    def
    save_room(self, plane):
    
  </div>
  <div class="functionBody">
    
    <pre>Button callback to save the tile images, resend and save the whole Room.
        </pre>
  </div>
</div><div class="function">
  <a name="shard.plugins.pygameui.PygameMapEditor.load_room">
    
  </a>
  <a name="load_room">
    
  </a>
  <div class="functionHeader">
    
    def
    load_room(self, plane):
    
  </div>
  <div class="functionBody">
    
    <pre>Button callback to issue a TriesToTalkToEvent to receive a list of rooms to load from the MapEditor Plugin.
        </pre>
  </div>
</div><div class="function">
  <a name="shard.plugins.pygameui.PygameMapEditor.add_item">
    
  </a>
  <a name="add_item">
    
  </a>
  <div class="functionHeader">
    
    def
    add_item(self, plane):
    
  </div>
  <div class="functionBody">
    
    <pre>Button callback to request item identifier and image and add it to the rack.
        </pre>
  </div>
</div><div class="function">
  <a name="shard.plugins.pygameui.PygameMapEditor.quit">
    
  </a>
  <a name="quit">
    
  </a>
  <div class="functionHeader">
    
    def
    quit(self, plane):
    
  </div>
  <div class="functionBody">
    
    <pre>Button callback to set self.exit_requested = True
        </pre>
  </div>
</div><div class="function">
  <a name="shard.plugins.pygameui.PygameMapEditor.edit_walls">
    
  </a>
  <a name="edit_walls">
    
  </a>
  <div class="functionHeader">
    
    def
    edit_walls(self, plane):
    
  </div>
  <div class="functionBody">
    
    <pre>Button callback to switch to wall edit mode.
        </pre>
  </div>
</div><div class="function">
  <a name="shard.plugins.pygameui.PygameMapEditor.make_tile_obstacle">
    
  </a>
  <a name="make_tile_obstacle">
    
  </a>
  <div class="functionHeader">
    
    def
    make_tile_obstacle(self, plane):
    
  </div>
  <div class="functionBody">
    
    <pre>Clicked callback which changes the Tile type to shard.OBSTACLE.
More specific, a ChangeMapElementEvent is sent to the Server, and an
overlay is applied to visualize the OBSTACLE type.</pre>
  </div>
</div><div class="function">
  <a name="shard.plugins.pygameui.PygameMapEditor.make_tile_floor">
    
  </a>
  <a name="make_tile_floor">
    
  </a>
  <div class="functionHeader">
    
    def
    make_tile_floor(self, plane):
    
  </div>
  <div class="functionBody">
    
    <pre>Clicked callback which changes the Tile type to shard.FLOOR.
More specific, a ChangeMapElementEvent is sent to the Server, and the
overlay to visualize the OBSTACLE type is deleted.</pre>
  </div>
</div><div class="function">
  <a name="shard.plugins.pygameui.PygameMapEditor.wall_edit_done">
    
  </a>
  <a name="wall_edit_done">
    
  </a>
  <div class="functionHeader">
    
    def
    wall_edit_done(self, plane):
    
  </div>
  <div class="functionBody">
    
    <pre>Button callback which restores the editor to the state before edit_walls().
        </pre>
  </div>
</div><div class="function">
  <a name="shard.plugins.pygameui.PygameMapEditor.process_CanSpeakEvent">
    
  </a>
  <a name="process_CanSpeakEvent">
    
  </a>
  <div class="functionHeader">
    
    def
    process_CanSpeakEvent(self, event):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="shard.plugins.ui.UserInterface.html#process_CanSpeakEvent">shard.plugins.ui.UserInterface.process_CanSpeakEvent</a></div>
    <pre>Open the senteces as an OptionList and return a SaysEvent to the host.
        </pre>
  </div>
</div><div class="function">
  <a name="shard.plugins.pygameui.PygameMapEditor.process_SpawnEvent">
    
  </a>
  <a name="process_SpawnEvent">
    
  </a>
  <div class="functionHeader">
    
    def
    process_SpawnEvent(self, event):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="shard.plugins.pygameui.PygameUserInterface.html#process_SpawnEvent">shard.plugins.pygameui.PygameUserInterface.process_SpawnEvent</a></div>
    <pre>Call PygameUserInterface.process_SpawnEvent and add a clicked_callback to the Entity.
        </pre>
  </div>
</div><div class="function">
  <a name="shard.plugins.pygameui.PygameMapEditor.show_properties">
    
  </a>
  <a name="show_properties">
    
  </a>
  <div class="functionHeader">
    
    def
    show_properties(self, plane):
    
  </div>
  <div class="functionBody">
    
    <pre>Click callback for entities which shows their properties in the properties Plane.
        </pre>
  </div>
</div>
    <address>
      <a href="index.html">API Documentation</a> for shard, generated by <a href="http://codespeak.net/~mwh/pydoctor/">pydoctor</a> at 2010-11-25 13:34:58.
    </address>
  </body>
</html>