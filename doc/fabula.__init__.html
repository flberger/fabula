<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>API docs for &ldquo;fabula.__init__&rdquo;</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link href="apidocs.css" type="text/css" rel="stylesheet" />
    
    
  </head>
  <body>
    <h1 class="module">Module f.__init__</h1>
    <p>
      <span id="part">Part of <a href="fabula.html">fabula</a></span>
      
      
    </p>
    <div>
      
    </div>
    <pre>Fabula  - An Open Source Python Game Engine

Copyright 2010 Florian Berger &lt;fberger@florian-berger.de&gt;


Overview
--------

Fabula is a client-server application.

The server side consists of instances of:

- fabula.core.server.Server
- fabula.plugins.Plugin
- fabula.interfaces.Interface

The Server manages the authoritative game state and communicates with the
clients. The Plugin contains the game logic and controls the Server's
reactions. The Interface manages the communication.

fabula.plugins.serverside.DefaultGame contains a default Plugin that reads
from configuration files.

The client side consists of instances of:

- fabula.core.client.Client
- fabula.plugins.ui.UserInterface
- fabula.interfaces.Interface

The Client communicates with the server and mirrors the Server game state.
The UserInterface presents the game to the player and collects player input.
The Interface manages the communication.

fabula.plugins.pygameui.PygameUserInterface contains a default 2D UserInterface.


Connection Procedure
--------------------

Before starting Client and Server, you must create one instance of
fabula.interfaces.Interface for each. Upon creation, these Interfaces are not
connected.

Once the Client.run() has been started, it will call
UserInterface.get_connection_details() to prompt the player for a client id
and information on how to connect to the Server Interface.

Given this information, Client.run() will call Interface.connect() which will
establish the actual network connection to the Server's Interface and add an
according fabula.interfaces.MessageBuffer in Interface.connections.

When Interface.connect() returns, Client.run() will send a fabula.InitEvent
using the client id given by the player. The Server will reply with a series
of Events that establish the first room.


Communication
-------------

Server and Client communicate by sending Events, each using the MessageBuffer
instance in Interface.connections.

Events are bundled into Messages. A Message represents a set of Events that
happen in parallel.</pre>

    
    
    <div id="splitTables">
      <table class="children sortable" id="id3">
  
  
<tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.Event.html">Event</a></td>
    <td><tt>Fabula event base class.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.AttemptEvent.html">AttemptEvent</a></td>
    <td><tt>This is the base class for attempt events by the player or NPCs.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.TriesToMoveEvent.html">TriesToMoveEvent</a></td>
    <td><tt>Issued when the player or an NPC wants to move, awaiting server confirmation.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.TriesToLookAtEvent.html">TriesToLookAtEvent</a></td>
    <td><tt>Issued when the player or an NPC looks at a map element or an item.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.TriesToPickUpEvent.html">TriesToPickUpEvent</a></td>
    <td><tt>Issued when the player or an NPC tries to pick up an item.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.TriesToDropEvent.html">TriesToDropEvent</a></td>
    <td><tt>The player or NPC tries to drop an item.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.TriesToManipulateEvent.html">TriesToManipulateEvent</a></td>
    <td><tt>Issued when the player or an NPC tries to manipulate an item.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.TriesToTalkToEvent.html">TriesToTalkToEvent</a></td>
    <td><tt>Issued when the player or an NPC wants to start a conversation with another entity.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.ConfirmEvent.html">ConfirmEvent</a></td>
    <td><tt>This is the base class for server confirmations of attempt events.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.MovesToEvent.html">MovesToEvent</a></td>
    <td><tt>This is the server confirmation of a movement.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.PicksUpEvent.html">PicksUpEvent</a></td>
    <td><tt>This is a server confirmation of a TriesToPickUpEvent</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.DropsEvent.html">DropsEvent</a></td>
    <td><tt>This is the server confirmation for an attempt to drop an item</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.CanSpeakEvent.html">CanSpeakEvent</a></td>
    <td><tt>This is a server invitation for the player or an NPC to speak.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.AttemptFailedEvent.html">AttemptFailedEvent</a></td>
    <td><tt>Server announcement that the last AttemptEvent failed.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.PerceptionEvent.html">PerceptionEvent</a></td>
    <td><tt>This is a perception for the player or an NPC issued by the server,</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.ManipulatesEvent.html">ManipulatesEvent</a></td>
    <td><tt>This is a server confirmation of an item manipulation.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.SaysEvent.html">SaysEvent</a></td>
    <td><tt>This normally is a reaction to the CanSpeakEvent, to be sent by the player.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.ChangePropertyEvent.html">ChangePropertyEvent</a></td>
    <td><tt>This Event is issued to trigger a property change.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.PassiveEvent.html">PassiveEvent</a></td>
    <td><tt>The base class for events when items or NPCs are being passed etc.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.PassedEvent.html">PassedEvent</a></td>
    <td><tt>Issued by the server when an item or an NPC is being passed by the player or an NPC.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.LookedAtEvent.html">LookedAtEvent</a></td>
    <td><tt>Issued by the server when an item or NPC is being looked at by the player or an NPC.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.PickedUpEvent.html">PickedUpEvent</a></td>
    <td><tt>Issued by the server when an item is being picked up by the player or an NPC.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.DroppedEvent.html">DroppedEvent</a></td>
    <td><tt>Issued by the server when an item is being dropped by the player or an NPC.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.ServerEvent.html">ServerEvent</a></td>
    <td><tt>Base class for various events issued by the server</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.SpawnEvent.html">SpawnEvent</a></td>
    <td><tt>This event creates the player / new item / NPC on the map.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.DeleteEvent.html">DeleteEvent</a></td>
    <td><tt>This event deletes an item or NPC from the map.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.EnterRoomEvent.html">EnterRoomEvent</a></td>
    <td><tt>This event announces that the player enters a new room.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.RoomCompleteEvent.html">RoomCompleteEvent</a></td>
    <td><tt>Issued by the server after an EnterRoomEvent</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.ChangeMapElementEvent.html">ChangeMapElementEvent</a></td>
    <td><tt>This event changes a single element of the two-dimensional map.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.InitEvent.html">InitEvent</a></td>
    <td><tt>This event is sent once by the client upon startup.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.ServerParametersEvent.html">ServerParametersEvent</a></td>
    <td><tt>This Event is sent by the Server when an InitEvent has been received.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.Message.html">Message</a></td>
    <td><tt>A Message represents a set of Events that happen in parallel.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.Entity.html">Entity</a></td>
    <td><tt>An Entity is a Fabula game object.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.Tile.html">Tile</a></td>
    <td><tt>A Tile is an element of a two-dimensional map.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.Room.html">Room</a></td>
    <td><tt>A Room instance saves the map as well as Entities and their locations.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.FloorPlanElement.html">FloorPlanElement</a></td>
    <td><tt>Convenience class for floor plan elements.</tt></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="fabula.Rack.html">Rack</a></td>
    <td><tt>A Rack stores Entities removed from a room.</tt></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="fabula.html#difference_2d">difference_2d</a></td>
    <td><tt>Return the difference vector between a 2D start and end position.</tt></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="fabula.html#str_is_tuple">str_is_tuple</a></td>
    <td><tt>Return True if the string represents a (int, int) tuple.</tt></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="fabula.html#representation">representation</a></td>
    <td><tt>Compute an official string representation of object. eval(representation(object)) should recreate the object.</tt></td>
  </tr>
  
</table>
      
      
    </div>
    
    
    

    <div class="function">
  <a name="fabula.difference_2d">
    
  </a>
  <a name="difference_2d">
    
  </a>
  <div class="functionHeader">
    
    def
    difference_2d(start_tuple, end_tuple):
    
  </div>
  <div class="functionBody">
    
    <pre>Return the difference vector between a 2D start and end position.
    </pre>
  </div>
</div><div class="function">
  <a name="fabula.str_is_tuple">
    
  </a>
  <a name="str_is_tuple">
    
  </a>
  <div class="functionHeader">
    
    def
    str_is_tuple(str):
    
  </div>
  <div class="functionBody">
    
    <pre>Return True if the string represents a (int, int) tuple.
    </pre>
  </div>
</div><div class="function">
  <a name="fabula.representation">
    
  </a>
  <a name="representation">
    
  </a>
  <div class="functionHeader">
    
    def
    representation(object, attributes):
    
  </div>
  <div class="functionBody">
    
    <pre>Compute an official string representation of object. eval(representation(object)) should recreate the object.
attributes is a list of strings giving the attributes to include.</pre>
  </div>
</div>
    <address>
      <a href="index.html">API Documentation</a> for fabula, generated by <a href="http://codespeak.net/~mwh/pydoctor/">pydoctor</a> at 2012-01-12 20:46:46.
    </address>
  </body>
</html>