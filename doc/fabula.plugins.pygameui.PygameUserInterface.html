<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>fabula.plugins.pygameui.PygameUserInterface : API documentation</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link href="apidocs.css" type="text/css" rel="stylesheet" />
    
    
  </head>
  <body>
    <h1 class="class">f.p.p.PygameUserInterface(<a href="fabula.plugins.ui.UserInterface.html">fabula.plugins.ui.UserInterface</a>) : class documentation</h1>
    <p>
      <span id="part">Part of <a href="fabula.html">fabula</a>.<a href="fabula.plugins.html">plugins</a>.<a href="fabula.plugins.pygameui.html">pygameui</a></span>
      
      <a href="classIndex.html#fabula.plugins.pygameui.PygameUserInterface">View In Hierarchy</a>
    </p>
    <div>
      <p>Known subclasses: <a href="fabula.plugins.pygameui.PygameEditor.html">fabula.plugins.pygameui.PygameEditor</a></p>
    </div>
    <pre>This is a Pygame implementation of an UserInterface for the Fabula Client.

Additional attributes:

PygameUserInterface.clock
    An instance of pygame.time.Clock

PygameUserInterface.big_font
PygameUserInterface.small_font
    Pygame.font.Font instances

PygameUserInterface.fade_surface
    A black pygame surface for fade effects.

PygameUserInterface.loading_surface
    A loading text surface to be used in process_EnterRoomEvent.

PygameUserInterface.inventory_plane
    Plane to display the inventory

PygameUserInterface.spacing
    Spacing between tiles.

PygameUserInterface.scroll
    Counter for scrolling left-right. Used in display_single_frame().

PygameUserInterface.scroll_amount
    Number of pixels to scroll per call to display_single_frame().

PygameUserInterface.fade_surface
    A black pygame surface for fade effects

PygameUserInterface.attempt_icon_planes
    A list of Planes of attempt action icons.

PygameUserInterface.right_clicked_entity
    Cache for the last right-clicked Entity.

PygameUserInterface.osd
    An instance of PygameOSD. PygameOSD creates a Plane on screen which
    will be updated during the normal Plane.update() cycle.

PygameUserInterface.stats
    A dict mapping names of different metrics to their current vaule.
    Updated in PygameUserInterface.update_frame_timer().

PygameUserInterface.screen_dump_folder
    A string with the name of a local folder to save screen dumps to.
    This also acts as a flag: if it is different from the empty string,
    PygameUserInterface.display_single_frame() will save screen dumps
    there.

PygameUserInterface.surfacecatcher
    An instance of surfacecatcher.SurfaceCatcher. Initially None.

PygameUserInterface.mousescroll
    Boolen flag, indicating whether to scroll the screen when the mouse
    reaches a screen border.

PygameUserInterface utilises the planes module for 2D bitmap rendering.
The planes hierarchy is organised as follows:

window +
       |
       + room +
       |      |
       |      + tiles +
       |      |       |
       |      |       + tile
       |      |       |
       |      |       + ...
       |      |
       |      + entity plane
       |      |
       |      + ...
       |
       + inventory

The planes are attributes of PygameUserInterface:

PygameUserInterface.window
    An instance of planes.Display. Dimensions are given by SCREENSIZE.
    By default opened in windowed mode, this can be changed by editing
    the file fabula.conf.

PygameUserInterface.window.room
    planes Plane for the room. Initially it will have a size of 0x0 px.
    The final Plane is created by process_RoomCompleteEvent().

PygameUserInterface.window.room.tiles
    planes Plane which has the Tile Planes as subplanes.

PygameUserInterface.window.inventory
    planes Plane for the inventory. By default this is 800x100 px with
    space for 8 100x100 px icons and located at the bottom of the window.</pre>

    
    
    <div id="splitTables">
      <table class="children sortable" id="id38">
  
  
<tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#__init__">__init__</a></td>
    <td><tt>This method initialises the PygameUserInterface.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#get_connection_details">get_connection_details</a></td>
    <td><tt>Display a splash screen, then get a connector to the Server and an identifier from the player.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#update_frame_timer">update_frame_timer</a></td>
    <td><tt>Use pygame.time.Clock.tick() to slow down to given framerate. Also, update PygameUserInterface.stats.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#display_single_frame">display_single_frame</a></td>
    <td><tt>Update and render all planes. This method also handles scrolling.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#collect_player_input">collect_player_input</a></td>
    <td><tt>Gather Pygame events, scan for QUIT or special keys and let the planes Display evaluate the events.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#process_EnterRoomEvent">process_EnterRoomEvent</a></td>
    <td><tt>Fade window to black and remove subplanes of PygameUserInterface.window.room.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#process_RoomCompleteEvent">process_RoomCompleteEvent</a></td>
    <td><tt>Recreate room and tile Planes at the correct size, update and render everything and fade in the room. Add the inventory Plane to window if it is not yet there.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#process_CanSpeakEvent">process_CanSpeakEvent</a></td>
    <td><tt>Have the user select or input text and return a SaysEvent to the host.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#process_SpawnEvent">process_SpawnEvent</a></td>
    <td><tt>Add a subplane to window.room, possibly fetching an asset before.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#process_DeleteEvent">process_DeleteEvent</a></td>
    <td><tt>Remove the associated Plane from window.room.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#process_ChangeMapElementEvent">process_ChangeMapElementEvent</a></td>
    <td><tt>Fetch asset and register/replace tile. Tile.asset is the Pygame Surface since possibly multiple Planes must be derived from a single Tile.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#process_PerceptionEvent">process_PerceptionEvent</a></td>
    <td><tt>Display the perception.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#process_AttemptFailedEvent">process_AttemptFailedEvent</a></td>
    <td><tt>Flash the screen.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#process_MovesToEvent">process_MovesToEvent</a></td>
    <td><tt>Call the base class method, re-order EntityPlanes and make EntityPlanes surrounding a new player position draggable.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#process_ChangePropertyEvent">process_ChangePropertyEvent</a></td>
    <td><tt>Call base class, update caption changes, then display a single frame to show the result.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#process_DropsEvent">process_DropsEvent</a></td>
    <td><tt>Call base class process_DropsEvent, clean up the inventory plane and adjust draggable flags.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#process_PicksUpEvent">process_PicksUpEvent</a></td>
    <td><tt>Check the affected Entity, then either move the item's Plane from window.room to PygameUserInterface.inventory_plane or delete it. Then call the base class implementation to notify the Entity.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#process_SaysEvent">process_SaysEvent</a></td>
    <td><tt>Call the base class, then present the text to the user and wait some time.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#reorder_room_planes">reorder_room_planes</a></td>
    <td><tt>Re-order subplanes of self.window.room from back to front by y-coordinate.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#inventory_callback">inventory_callback</a></td>
    <td><tt>Drop callback to issue a TriesToPickUpEvent if the item is not already in Rack.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#tile_clicked_callback">tile_clicked_callback</a></td>
    <td><tt>Clicked callback to issue a TriesToMoveEvent.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#tile_drop_callback">tile_drop_callback</a></td>
    <td><tt>Drop callback to issue a TriesToDropEvent.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#entity_dropped_callback">entity_dropped_callback</a></td>
    <td><tt>Dropped upon callback for Entities. Adds appropriate Events to PygameUserInterface.message_for_host.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#entity_right_click_callback">entity_right_click_callback</a></td>
    <td><tt>Right click callback for Entity Plane.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#attempt_icon_callback">attempt_icon_callback</a></td>
    <td><tt>General left-click callback for attempt action icons.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#display_loading_progress">display_loading_progress</a></td>
    <td><tt>Display the string representation of the object given on the loading screen while the game is frozen.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#make_items_draggable">make_items_draggable</a></td>
    <td><tt>Auxiliary method to make items next to the player draggable.</tt></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#_snap_room_to_display">_snap_room_to_display</a></td>
    <td><tt>Snap the room plane to the window plane.</tt></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.pygameui.PygameUserInterface.html#_chars_to_frames">_chars_to_frames</a></td>
    <td><tt>Auxiliary method to compute how many frames to display a string. characters is the string to display.</tt></td>
  </tr>
  
</table>
      
        <p>
          Inherited from <a href="fabula.plugins.ui.UserInterface.html">UserInterface</a>:
        </p>
        <table class="children sortable" id="id39">
  
  
<tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.ui.UserInterface.html#process_message">process_message</a></td>
    <td><tt>This is the main method of the UserInterface.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.ui.UserInterface.html#process_ServerParametersEvent">process_ServerParametersEvent</a></td>
    <td><tt>Compute action_frames from event.action_time and UserInterface.framerate.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="fabula.plugins.ui.UserInterface.html#display_asset_exception">display_asset_exception</a></td>
    <td><span class="undocumented">No summary</span></td>
  </tr>
  
</table>
      
        <p>
          Inherited from <a href="fabula.eventprocessor.EventProcessor.html">EventProcessor</a> (via <a href="fabula.plugins.ui.UserInterface.html">UserInterface</a>, <a href="fabula.plugins.Plugin.html">Plugin</a>):
        </p>
        <table class="children sortable" id="id40">
  
  
<tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="fabula.eventprocessor.EventProcessor.html#__getstate__">__getstate__</a></td>
    <td><tt>Return a copy of self.__dict__ with un-pickleable items removed to the pickle module.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="fabula.eventprocessor.EventProcessor.html#__setstate__">__setstate__</a></td>
    <td><tt>Update self.__dict__ with state_dict provided by the pickle module, then call __init__().</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="fabula.eventprocessor.EventProcessor.html#process_TriesToMoveEvent">process_TriesToMoveEvent</a></td>
    <td><tt>Process the Event. The default implementation does nothing.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="fabula.eventprocessor.EventProcessor.html#process_TriesToLookAtEvent">process_TriesToLookAtEvent</a></td>
    <td><tt>Process the Event. The default implementation does nothing.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="fabula.eventprocessor.EventProcessor.html#process_TriesToPickUpEvent">process_TriesToPickUpEvent</a></td>
    <td><tt>Process the Event. The default implementation does nothing.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="fabula.eventprocessor.EventProcessor.html#process_TriesToDropEvent">process_TriesToDropEvent</a></td>
    <td><tt>Process the Event. The default implementation does nothing.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="fabula.eventprocessor.EventProcessor.html#process_TriesToManipulateEvent">process_TriesToManipulateEvent</a></td>
    <td><tt>Process the Event. The default implementation does nothing.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="fabula.eventprocessor.EventProcessor.html#process_TriesToTalkToEvent">process_TriesToTalkToEvent</a></td>
    <td><tt>Process the Event. The default implementation does nothing.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="fabula.eventprocessor.EventProcessor.html#process_ManipulatesEvent">process_ManipulatesEvent</a></td>
    <td><tt>Process the Event. The default implementation does nothing.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="fabula.eventprocessor.EventProcessor.html#process_PassedEvent">process_PassedEvent</a></td>
    <td><tt>Process the Event. The default implementation does nothing.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="fabula.eventprocessor.EventProcessor.html#process_LookedAtEvent">process_LookedAtEvent</a></td>
    <td><tt>Process the Event. The default implementation does nothing.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="fabula.eventprocessor.EventProcessor.html#process_PickedUpEvent">process_PickedUpEvent</a></td>
    <td><tt>Process the Event. The default implementation does nothing.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="fabula.eventprocessor.EventProcessor.html#process_DroppedEvent">process_DroppedEvent</a></td>
    <td><tt>Process the Event. The default implementation does nothing.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="fabula.eventprocessor.EventProcessor.html#process_InitEvent">process_InitEvent</a></td>
    <td><tt>Process the Event. The default implementation does nothing.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="fabula.eventprocessor.EventProcessor.html#process_ExitEvent">process_ExitEvent</a></td>
    <td><tt>Process the Event. The default implementation does nothing.</tt></td>
  </tr>
  
</table>
      
      
    </div>
    
    
    

    <div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    def
    __init__(self, assets, framerate, host, fullscreen=False, mousescroll=False):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="fabula.plugins.ui.UserInterface.html#__init__">fabula.plugins.ui.UserInterface.__init__</a></div><div class="interfaceinfo">overridden in <a href="fabula.plugins.pygameui.PygameEditor.html">fabula.plugins.pygameui.PygameEditor</a></div>
    <pre>This method initialises the PygameUserInterface.

assets must be an instance of fabula.Assets or a subclass.

framerate must be an integer and sets the maximum (not minimum ;-))
frames per second the client will run at.

fullscreen is a Boolean flag.

mousescroll is a Boolen flag, indicating whether to scroll the screen
when the mouse reaches a screen border.</pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.get_connection_details">
    
  </a>
  <a name="get_connection_details">
    
  </a>
  <div class="functionHeader">
    
    def
    get_connection_details(self, prompt_connector=True):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="fabula.plugins.ui.UserInterface.html#get_connection_details">fabula.plugins.ui.UserInterface.get_connection_details</a></div>
    <pre>Display a splash screen, then get a connector to the Server and an identifier from the player.

Initially, the Client Interface is not connected to the Server. This
method should prompt the user for connection details.

It must return a tuple (identifier, connector).

connector will be used for Interface.connect(connector).
identifier will be used to send InitEvent(identifier) to the server.

If prompt_connector is False, the dialog will not ask for a connector
and use None instead.</pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.update_frame_timer">
    
  </a>
  <a name="update_frame_timer">
    
  </a>
  <div class="functionHeader">
    
    def
    update_frame_timer(self):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="fabula.plugins.ui.UserInterface.html#update_frame_timer">fabula.plugins.ui.UserInterface.update_frame_timer</a></div>
    <pre>Use pygame.time.Clock.tick() to slow down to given framerate.
Also, update PygameUserInterface.stats.</pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.display_single_frame">
    
  </a>
  <a name="display_single_frame">
    
  </a>
  <div class="functionHeader">
    
    def
    display_single_frame(self):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="fabula.plugins.ui.UserInterface.html#display_single_frame">fabula.plugins.ui.UserInterface.display_single_frame</a></div>
    <pre>Update and render all planes.
This method also handles scrolling.</pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.collect_player_input">
    
  </a>
  <a name="collect_player_input">
    
  </a>
  <div class="functionHeader">
    
    def
    collect_player_input(self):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="fabula.plugins.ui.UserInterface.html#collect_player_input">fabula.plugins.ui.UserInterface.collect_player_input</a></div><div class="interfaceinfo">overridden in <a href="fabula.plugins.pygameui.PygameEditor.html">fabula.plugins.pygameui.PygameEditor</a></div>
    <pre>Gather Pygame events, scan for QUIT or special keys and let the planes Display evaluate the events.
        </pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.process_EnterRoomEvent">
    
  </a>
  <a name="process_EnterRoomEvent">
    
  </a>
  <div class="functionHeader">
    
    def
    process_EnterRoomEvent(self, event):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="fabula.plugins.ui.UserInterface.html#process_EnterRoomEvent">fabula.plugins.ui.UserInterface.process_EnterRoomEvent</a></div>
    <pre>Fade window to black and remove subplanes of PygameUserInterface.window.room.
        </pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.process_RoomCompleteEvent">
    
  </a>
  <a name="process_RoomCompleteEvent">
    
  </a>
  <div class="functionHeader">
    
    def
    process_RoomCompleteEvent(self, event):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="fabula.plugins.ui.UserInterface.html#process_RoomCompleteEvent">fabula.plugins.ui.UserInterface.process_RoomCompleteEvent</a></div><div class="interfaceinfo">overridden in <a href="fabula.plugins.pygameui.PygameEditor.html">fabula.plugins.pygameui.PygameEditor</a></div>
    <pre>Recreate room and tile Planes at the correct size, update and render everything and fade in the room.
Add the inventory Plane to window if it is not yet there.</pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.process_CanSpeakEvent">
    
  </a>
  <a name="process_CanSpeakEvent">
    
  </a>
  <div class="functionHeader">
    
    def
    process_CanSpeakEvent(self, event):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="fabula.plugins.ui.UserInterface.html#process_CanSpeakEvent">fabula.plugins.ui.UserInterface.process_CanSpeakEvent</a></div>
    <pre>Have the user select or input text and return a SaysEvent to the host.
        </pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.process_SpawnEvent">
    
  </a>
  <a name="process_SpawnEvent">
    
  </a>
  <div class="functionHeader">
    
    def
    process_SpawnEvent(self, event):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="fabula.plugins.ui.UserInterface.html#process_SpawnEvent">fabula.plugins.ui.UserInterface.process_SpawnEvent</a></div><div class="interfaceinfo">overridden in <a href="fabula.plugins.pygameui.PygameEditor.html">fabula.plugins.pygameui.PygameEditor</a></div>
    <pre>Add a subplane to window.room, possibly fetching an asset before.

The name of the subplane is the Entity identifier, so the subplane
is accessible using window.room.&lt;identifier&gt;.

Entity.asset points to the Plane of the Entity.

When a Plane has not yet been added, the Entity's class is changed
to PygameEntity in addition.

If the asset file name contains 'fabulasheet', this method will treat
the image as a spritesheet. See the EntityPlane documentation for
details.</pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.process_DeleteEvent">
    
  </a>
  <a name="process_DeleteEvent">
    
  </a>
  <div class="functionHeader">
    
    def
    process_DeleteEvent(self, event):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="fabula.plugins.ui.UserInterface.html#process_DeleteEvent">fabula.plugins.ui.UserInterface.process_DeleteEvent</a></div>
    <pre>Remove the associated Plane from window.room.
        </pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.process_ChangeMapElementEvent">
    
  </a>
  <a name="process_ChangeMapElementEvent">
    
  </a>
  <div class="functionHeader">
    
    def
    process_ChangeMapElementEvent(self, event):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="fabula.plugins.ui.UserInterface.html#process_ChangeMapElementEvent">fabula.plugins.ui.UserInterface.process_ChangeMapElementEvent</a></div>
    <pre>Fetch asset and register/replace tile.
Tile.asset is the Pygame Surface since possibly multiple Planes must
be derived from a single Tile.</pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.process_PerceptionEvent">
    
  </a>
  <a name="process_PerceptionEvent">
    
  </a>
  <div class="functionHeader">
    
    def
    process_PerceptionEvent(self, event):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="fabula.plugins.ui.UserInterface.html#process_PerceptionEvent">fabula.plugins.ui.UserInterface.process_PerceptionEvent</a></div>
    <pre>Display the perception.
        </pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.process_AttemptFailedEvent">
    
  </a>
  <a name="process_AttemptFailedEvent">
    
  </a>
  <div class="functionHeader">
    
    def
    process_AttemptFailedEvent(self, event):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="fabula.eventprocessor.EventProcessor.html#process_AttemptFailedEvent">fabula.eventprocessor.EventProcessor.process_AttemptFailedEvent</a></div>
    <pre>Flash the screen.
        </pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.process_MovesToEvent">
    
  </a>
  <a name="process_MovesToEvent">
    
  </a>
  <div class="functionHeader">
    
    def
    process_MovesToEvent(self, event):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="fabula.plugins.ui.UserInterface.html#process_MovesToEvent">fabula.plugins.ui.UserInterface.process_MovesToEvent</a></div>
    <pre>Call the base class method, re-order EntityPlanes and make EntityPlanes surrounding a new player position draggable.
        </pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.process_ChangePropertyEvent">
    
  </a>
  <a name="process_ChangePropertyEvent">
    
  </a>
  <div class="functionHeader">
    
    def
    process_ChangePropertyEvent(self, event):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="fabula.plugins.ui.UserInterface.html#process_ChangePropertyEvent">fabula.plugins.ui.UserInterface.process_ChangePropertyEvent</a></div>
    <pre>Call base class, update caption changes, then display a single frame to show the result.
        </pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.process_DropsEvent">
    
  </a>
  <a name="process_DropsEvent">
    
  </a>
  <div class="functionHeader">
    
    def
    process_DropsEvent(self, event):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="fabula.plugins.ui.UserInterface.html#process_DropsEvent">fabula.plugins.ui.UserInterface.process_DropsEvent</a></div>
    <pre>Call base class process_DropsEvent, clean up the inventory plane and adjust draggable flags.
        </pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.process_PicksUpEvent">
    
  </a>
  <a name="process_PicksUpEvent">
    
  </a>
  <div class="functionHeader">
    
    def
    process_PicksUpEvent(self, event):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="fabula.plugins.ui.UserInterface.html#process_PicksUpEvent">fabula.plugins.ui.UserInterface.process_PicksUpEvent</a></div>
    <pre>Check the affected Entity, then either move the item's Plane from window.room to PygameUserInterface.inventory_plane or delete it.
Then call the base class implementation to notify the Entity.</pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.process_SaysEvent">
    
  </a>
  <a name="process_SaysEvent">
    
  </a>
  <div class="functionHeader">
    
    def
    process_SaysEvent(self, event):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="fabula.plugins.ui.UserInterface.html#process_SaysEvent">fabula.plugins.ui.UserInterface.process_SaysEvent</a></div>
    <pre>Call the base class, then present the text to the user and wait some time.
        </pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.reorder_room_planes">
    
  </a>
  <a name="reorder_room_planes">
    
  </a>
  <div class="functionHeader">
    
    def
    reorder_room_planes(self):
    
  </div>
  <div class="functionBody">
    
    <pre>Re-order subplanes of self.window.room from back to front by y-coordinate.
        </pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.inventory_callback">
    
  </a>
  <a name="inventory_callback">
    
  </a>
  <div class="functionHeader">
    
    def
    inventory_callback(self, plane, dropped_plane, screen_coordinates):
    
  </div>
  <div class="functionBody">
    
    <pre>Drop callback to issue a TriesToPickUpEvent if the item is not already in Rack.
        </pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.tile_clicked_callback">
    
  </a>
  <a name="tile_clicked_callback">
    
  </a>
  <div class="functionHeader">
    
    def
    tile_clicked_callback(self, plane):
    
  </div>
  <div class="functionBody">
    
    <pre>Clicked callback to issue a TriesToMoveEvent.
        </pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.tile_drop_callback">
    
  </a>
  <a name="tile_drop_callback">
    
  </a>
  <div class="functionHeader">
    
    def
    tile_drop_callback(self, plane, dropped_plane, screen_coordinates):
    
  </div>
  <div class="functionBody">
    
    <pre>Drop callback to issue a TriesToDropEvent.
        </pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.entity_dropped_callback">
    
  </a>
  <a name="entity_dropped_callback">
    
  </a>
  <div class="functionHeader">
    
    def
    entity_dropped_callback(self, plane, dropped_plane, coordinates):
    
  </div>
  <div class="functionBody">
    
    <pre>Dropped upon callback for Entities.
Adds appropriate Events to PygameUserInterface.message_for_host.</pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.entity_right_click_callback">
    
  </a>
  <a name="entity_right_click_callback">
    
  </a>
  <div class="functionHeader">
    
    def
    entity_right_click_callback(self, plane):
    
  </div>
  <div class="functionBody">
    
    <pre>Right click callback for Entity Plane.
        </pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.attempt_icon_callback">
    
  </a>
  <a name="attempt_icon_callback">
    
  </a>
  <div class="functionHeader">
    
    def
    attempt_icon_callback(self, plane):
    
  </div>
  <div class="functionBody">
    
    <pre>General left-click callback for attempt action icons.
        </pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.display_loading_progress">
    
  </a>
  <a name="display_loading_progress">
    
  </a>
  <div class="functionHeader">
    
    def
    display_loading_progress(self, obj):
    
  </div>
  <div class="functionBody">
    
    <pre>Display the string representation of the object given on the loading screen while the game is frozen.
        </pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface.make_items_draggable">
    
  </a>
  <a name="make_items_draggable">
    
  </a>
  <div class="functionHeader">
    
    def
    make_items_draggable(self):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overridden in <a href="fabula.plugins.pygameui.PygameEditor.html">fabula.plugins.pygameui.PygameEditor</a></div>
    <pre>Auxiliary method to make items next to the player draggable.
        </pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface._snap_room_to_display">
    
  </a>
  <a name="_snap_room_to_display">
    
  </a>
  <div class="functionHeader">
    
    def
    _snap_room_to_display(self):
    
  </div>
  <div class="functionBody">
    
    <pre>Snap the room plane to the window plane.
        </pre>
  </div>
</div><div class="function">
  <a name="fabula.plugins.pygameui.PygameUserInterface._chars_to_frames">
    
  </a>
  <a name="_chars_to_frames">
    
  </a>
  <div class="functionHeader">
    
    def
    _chars_to_frames(self, characters):
    
  </div>
  <div class="functionBody">
    
    <pre>Auxiliary method to compute how many frames to display a string.
characters is the string to display.</pre>
  </div>
</div>
    <address>
      <a href="index.html">API Documentation</a> for fabula, generated by <a href="http://codespeak.net/~mwh/pydoctor/">pydoctor</a> at 2013-03-07 08:40:05.
    </address>
  </body>
</html>