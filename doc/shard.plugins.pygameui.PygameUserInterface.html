<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>API docs for &ldquo;shard.plugins.pygameui.PygameUserInterface&rdquo;</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link href="apidocs.css" type="text/css" rel="stylesheet" />
    
    
  </head>
  <body>
    <h1 class="class">Class s.p.p.PygameUserInterface(<a href="shard.plugins.ui.UserInterface.html">shard.plugins.ui.UserInterface</a>):</h1>
    <p>
      <span id="part">Part of <a href="shard.html">shard</a>.<a href="shard.plugins.html">plugins</a>.<a href="shard.plugins.pygameui.html">pygameui</a></span>
      
      <a href="classIndex.html#shard.plugins.pygameui.PygameUserInterface">View In Hierarchy</a>
    </p>
    <div>
      <p>Known subclasses: <a href="shard.plugins.pygameui.PygameMapEditor.html">shard.plugins.pygameui.PygameMapEditor</a></p>
    </div>
    <pre>This is a Pygame implementation of an UserInterface for the Shard Client.

Inherited from shard.plugins.ui.UserInterface:

UserInterface.action_time
    Set how long actions like a movement from Map element to Map element
    take, in seconds.

UserInterface.framerate
UserInterface.assets
    framerate and assets manager

UserInterface.action_frames
    The number of frames per action.

UserInterface.action_countdown
    A copy of action_frames used in UserInterface.process_message().

UserInterface.event_queue
    A queue for Events of a Message to be rendered later.
    UserInterface.action_countdown will be counted down between
    processing the Events.

UserInterface.exit_requested
    The UserInterface is responsible for catching an exit request by the
    user. This value is checked in the Client main loop.

UserInterface.room
    Variables to be filled by the Client before each call to
    process_message()

UserInterface.direction_vector_dict
    Convenience dict converting symbolic directions to a vector

UserInterface.waiting_for_RoomCompleteEvent
    Flag, True after initialisation


PygameUserInterface attributes:

PygameUserInterface.clock
    An instance of pygame.time.Clock

PygameUserInterface.big_font
PygameUserInterface.small_font
    Pygame.font.Font instances

PygameUserInterface.loading_surface
PygameUserInterface.loading_surface_position
    Surface and position for a loading message

PygameUserInterface.fps_log_counter
    Counter to log actual fps every &lt;framerate&gt; frames

PygameUserInterface.spacing
    Spacing between tiles.

PygameUserInterface.window
    An instance of clickndrag.Display. By default this is 800x600px and
    windowed.

PygameUserInterface.window.inventory
    clickndrag Plane for the inventory. By default this is 800x100px
    with space for 8 100x100px icons and located at the bottom of the
    window.

PygameUserInterface.window.room
    clickndrag Plane for the room. By default this is 800x500px with
    space for 8x5 tiles and located at the top of the window.

PygameUserInterface.fade_surface
    A black pygame surface for fade effects</pre>

    
    
    <div id="splitTables">
      <table class="children sortable" id="id39">
  
  
<tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#__init__">__init__</a></td>
    <td><tt>This method initialises the PygameUserInterface.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#update_frame_timer">update_frame_timer</a></td>
    <td><tt>Use pygame.time.Clock.tick() to slow down to given framerate.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#display_single_frame">display_single_frame</a></td>
    <td><tt>Update and render all click'd'drag planes.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#collect_player_input">collect_player_input</a></td>
    <td><tt>When overriding this method,</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#process_EnterRoomEvent">process_EnterRoomEvent</a></td>
    <td><tt>Fade window to black and remove subplanes of PygameUserInterface.window.room</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#process_RoomCompleteEvent">process_RoomCompleteEvent</a></td>
    <td><tt>Update and render the Planes of the map elements and fade in the room.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#process_SpawnEvent">process_SpawnEvent</a></td>
    <td><tt>Add a subplane to window.room, possibly fetching an asset before.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#process_ChangeMapElementEvent">process_ChangeMapElementEvent</a></td>
    <td><tt>Fetch asset and register/replace tile.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#process_DropsEvent">process_DropsEvent</a></td>
    <td><tt>Call base class process_DropsEvent and clean up the inventory plane.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#process_PicksUpEvent">process_PicksUpEvent</a></td>
    <td><tt>Move the item's Plane from window.room to window.inventory.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#inventory_callback">inventory_callback</a></td>
    <td><tt>Issue a TriesToPickUpEvent if the item is not already in Rack.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.pygameui.PygameUserInterface.html#tile_callback">tile_callback</a></td>
    <td><tt>Issue TriesToDropEvent and a TriesToPickUpEvent before if necessary.</tt></td>
  </tr>
  
</table>
      
        <p>
          Inherited from <a href="shard.plugins.ui.UserInterface.html">UserInterface</a>:
        </p>
        <table class="children sortable" id="id40">
  
  
<tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.ui.UserInterface.html#process_message">process_message</a></td>
    <td><tt>This is the main method of the UserInterface.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.ui.UserInterface.html#display_asset_exception">display_asset_exception</a></td>
    <td><tt>Called when assets is unable to retrieve the asset.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.ui.UserInterface.html#process_CanSpeakEvent">process_CanSpeakEvent</a></td>
    <td><tt>Called when the UserInterface needs to render a CanSpeakEvent.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.ui.UserInterface.html#process_DeleteEvent">process_DeleteEvent</a></td>
    <td><tt>This method is called with an instance of DeleteEvent.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.ui.UserInterface.html#process_PerceptionEvent">process_PerceptionEvent</a></td>
    <td><tt>Called with a list of instances of PerceptionEvent.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.ui.UserInterface.html#process_MovesToEvent">process_MovesToEvent</a></td>
    <td><tt>Let the Entity handle the Event.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.ui.UserInterface.html#process_ChangeStateEvent">process_ChangeStateEvent</a></td>
    <td><tt>Entity has already handled the Event.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.ui.UserInterface.html#process_SaysEvent">process_SaysEvent</a></td>
    <td><tt>Called with an instance of SaysEvent</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.ui.UserInterface.html#group_events">group_events</a></td>
    <td><tt>Returns a list of lists of parallel events.</tt></td>
  </tr>
  
</table>
      
        <p>
          Inherited from <a href="shard.plugins.Plugin.html">Plugin</a> (via <a href="shard.plugins.ui.UserInterface.html">UserInterface</a>):
        </p>
        <table class="children sortable" id="id41">
  
  
<tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.Plugin.html#process_TriesToMoveEvent">process_TriesToMoveEvent</a></td>
    <td><tt>Return the Event to the host.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.Plugin.html#process_TriesToLookAtEvent">process_TriesToLookAtEvent</a></td>
    <td><tt>Return the Event to the host.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.Plugin.html#process_TriesToPickUpEvent">process_TriesToPickUpEvent</a></td>
    <td><tt>Return the Event to the host.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.Plugin.html#process_TriesToDropEvent">process_TriesToDropEvent</a></td>
    <td><tt>Return the Event to the host.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.Plugin.html#process_TriesToManipulateEvent">process_TriesToManipulateEvent</a></td>
    <td><tt>Return the Event to the host.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.Plugin.html#process_TriesToTalkToEvent">process_TriesToTalkToEvent</a></td>
    <td><tt>Return the Event to the host.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.Plugin.html#process_ManipulatesEvent">process_ManipulatesEvent</a></td>
    <td><tt>Return the Event to the host.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.Plugin.html#process_AttemptFailedEvent">process_AttemptFailedEvent</a></td>
    <td><tt>Return the Event to the host.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.Plugin.html#process_PassedEvent">process_PassedEvent</a></td>
    <td><tt>Return the Event to the host.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.Plugin.html#process_LookedAtEvent">process_LookedAtEvent</a></td>
    <td><tt>Return the Event to the host.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.Plugin.html#process_PickedUpEvent">process_PickedUpEvent</a></td>
    <td><tt>Return the Event to the host.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.Plugin.html#process_DroppedEvent">process_DroppedEvent</a></td>
    <td><tt>Return the Event to the host.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.plugins.Plugin.html#process_InitEvent">process_InitEvent</a></td>
    <td><tt>Return the Event to the host.</tt></td>
  </tr>
  
</table>
      
        <p>
          Inherited from <a href="shard.eventprocessor.EventProcessor.html">EventProcessor</a> (via <a href="shard.plugins.ui.UserInterface.html">UserInterface</a>, <a href="shard.plugins.Plugin.html">Plugin</a>):
        </p>
        <table class="children sortable" id="id42">
  
  
<tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.eventprocessor.EventProcessor.html#__getstate__">__getstate__</a></td>
    <td><tt>Return a copy of self.__dict__ with un-pickleable items removed to the pickle module.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="shard.eventprocessor.EventProcessor.html#__setstate__">__setstate__</a></td>
    <td><tt>Update self.__dict__ with state_dict provided by the pickle module, then call __init__().</tt></td>
  </tr>
  
</table>
      
      
    </div>
    
    
    

    <div class="function">
  <a name="shard.plugins.pygameui.PygameUserInterface.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    def
    __init__(self, assets, framerate, logger):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="shard.plugins.ui.UserInterface.html#__init__">shard.plugins.ui.UserInterface.__init__</a></div><div class="interfaceinfo">overridden in <a href="shard.plugins.pygameui.PygameMapEditor.html">shard.plugins.pygameui.PygameMapEditor</a></div>
    <pre>This method initialises the PygameUserInterface.
assets must be an instance of shard.Assets or a subclass.
framerate must be an integer and sets the maximum (not minimum ;-))
frames per second the client will run at.</pre>
  </div>
</div><div class="function">
  <a name="shard.plugins.pygameui.PygameUserInterface.update_frame_timer">
    
  </a>
  <a name="update_frame_timer">
    
  </a>
  <div class="functionHeader">
    
    def
    update_frame_timer(self):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="shard.plugins.ui.UserInterface.html#update_frame_timer">shard.plugins.ui.UserInterface.update_frame_timer</a></div>
    <pre>Use pygame.time.Clock.tick() to slow down to given framerate.
        </pre>
  </div>
</div><div class="function">
  <a name="shard.plugins.pygameui.PygameUserInterface.display_single_frame">
    
  </a>
  <a name="display_single_frame">
    
  </a>
  <div class="functionHeader">
    
    def
    display_single_frame(self):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="shard.plugins.ui.UserInterface.html#display_single_frame">shard.plugins.ui.UserInterface.display_single_frame</a></div>
    <pre>Update and render all click'd'drag planes.
        </pre>
  </div>
</div><div class="function">
  <a name="shard.plugins.pygameui.PygameUserInterface.collect_player_input">
    
  </a>
  <a name="collect_player_input">
    
  </a>
  <div class="functionHeader">
    
    def
    collect_player_input(self):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="shard.plugins.ui.UserInterface.html#collect_player_input">shard.plugins.ui.UserInterface.collect_player_input</a></div>
    <pre>When overriding this method,
you have to convert the data provided by your module into Shard 
events, most probably instances of shard.AttemptEvent. You must
append them to self.message_for_host which is evaluated by the
ControlEngine.
The UserInterface should only ever collect and send one
single client event to prevent cheating and blocking other
clients in the server. (hint by Alexander Marbach)</pre>
  </div>
</div><div class="function">
  <a name="shard.plugins.pygameui.PygameUserInterface.process_EnterRoomEvent">
    
  </a>
  <a name="process_EnterRoomEvent">
    
  </a>
  <div class="functionHeader">
    
    def
    process_EnterRoomEvent(self, event):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="shard.plugins.ui.UserInterface.html#process_EnterRoomEvent">shard.plugins.ui.UserInterface.process_EnterRoomEvent</a></div>
    <pre>Fade window to black and remove subplanes of PygameUserInterface.window.room
        </pre>
  </div>
</div><div class="function">
  <a name="shard.plugins.pygameui.PygameUserInterface.process_RoomCompleteEvent">
    
  </a>
  <a name="process_RoomCompleteEvent">
    
  </a>
  <div class="functionHeader">
    
    def
    process_RoomCompleteEvent(self, event):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="shard.plugins.ui.UserInterface.html#process_RoomCompleteEvent">shard.plugins.ui.UserInterface.process_RoomCompleteEvent</a></div>
    <pre>Update and render the Planes of the map elements and fade in the room.
        </pre>
  </div>
</div><div class="function">
  <a name="shard.plugins.pygameui.PygameUserInterface.process_SpawnEvent">
    
  </a>
  <a name="process_SpawnEvent">
    
  </a>
  <div class="functionHeader">
    
    def
    process_SpawnEvent(self, event):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="shard.plugins.ui.UserInterface.html#process_SpawnEvent">shard.plugins.ui.UserInterface.process_SpawnEvent</a></div>
    <pre>Add a subplane to window.room, possibly fetching an asset before.
The name of the subplane is the Entity identifier, so the subplane
is accessible using window.room.&lt;identifier&gt;.
Entity.asset points to the Plane of the Entity.</pre>
  </div>
</div><div class="function">
  <a name="shard.plugins.pygameui.PygameUserInterface.process_ChangeMapElementEvent">
    
  </a>
  <a name="process_ChangeMapElementEvent">
    
  </a>
  <div class="functionHeader">
    
    def
    process_ChangeMapElementEvent(self, event):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="shard.plugins.ui.UserInterface.html#process_ChangeMapElementEvent">shard.plugins.ui.UserInterface.process_ChangeMapElementEvent</a></div>
    <pre>Fetch asset and register/replace tile.
Tile.asset is the Pygame Surface since possibly multiple Planes must
be derived from a single Tile.</pre>
  </div>
</div><div class="function">
  <a name="shard.plugins.pygameui.PygameUserInterface.process_DropsEvent">
    
  </a>
  <a name="process_DropsEvent">
    
  </a>
  <div class="functionHeader">
    
    def
    process_DropsEvent(self, event):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="shard.plugins.ui.UserInterface.html#process_DropsEvent">shard.plugins.ui.UserInterface.process_DropsEvent</a></div>
    <pre>Call base class process_DropsEvent and clean up the inventory plane.
        </pre>
  </div>
</div><div class="function">
  <a name="shard.plugins.pygameui.PygameUserInterface.process_PicksUpEvent">
    
  </a>
  <a name="process_PicksUpEvent">
    
  </a>
  <div class="functionHeader">
    
    def
    process_PicksUpEvent(self, event):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="shard.plugins.ui.UserInterface.html#process_PicksUpEvent">shard.plugins.ui.UserInterface.process_PicksUpEvent</a></div>
    <pre>Move the item's Plane from window.room to window.inventory.
Then call the base class implementation to notify the Entity.</pre>
  </div>
</div><div class="function">
  <a name="shard.plugins.pygameui.PygameUserInterface.inventory_callback">
    
  </a>
  <a name="inventory_callback">
    
  </a>
  <div class="functionHeader">
    
    def
    inventory_callback(self, drop_plane_name, item_identifier):
    
  </div>
  <div class="functionBody">
    
    <pre>Issue a TriesToPickUpEvent if the item is not already in Rack.
        </pre>
  </div>
</div><div class="function">
  <a name="shard.plugins.pygameui.PygameUserInterface.tile_callback">
    
  </a>
  <a name="tile_callback">
    
  </a>
  <div class="functionHeader">
    
    def
    tile_callback(self, drop_plane_name, item_identifier):
    
  </div>
  <div class="functionBody">
    
    <pre>Issue TriesToDropEvent and a TriesToPickUpEvent before if necessary.
        </pre>
  </div>
</div>
    <address>
      <a href="index.html">API Documentation</a> for shard, generated by <a href="http://codespeak.net/~mwh/pydoctor/">pydoctor</a> at 2010-11-13 15:35:10.
    </address>
  </body>
</html>